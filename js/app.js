(() => {
  // ====== –•—Ä–∞–Ω–∏–ª–∏—â–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ ======
  const STORAGE_KEY = "cg_v1";
  const defaultState = {
    points: 0,
    daysDone: {1:false,2:false,3:false,4:false,5:false},
    bestTypingWPM: 0,
    badges: { mouseHero:false, fileWizard:false, netNinja:false, aiTamer:false, typingMaster:false }
  };

  const load = () => {
    try{
      const raw = localStorage.getItem(STORAGE_KEY);
      if(!raw) return structuredClone(defaultState);
      const data = JSON.parse(raw);
      return {
        ...structuredClone(defaultState),
        ...data,
        daysDone: {...defaultState.daysDone, ...(data.daysDone||{})},
        badges: {...defaultState.badges, ...(data.badges||{})},
      };
    }catch{ return structuredClone(defaultState); }
  };
  const save = (st) => localStorage.setItem(STORAGE_KEY, JSON.stringify(st));

  const toast = (msg) => {
    let el = document.querySelector(".toast");
    if(!el){ el = document.createElement("div"); el.className="toast"; document.body.appendChild(el); }
    el.textContent = msg;
    el.classList.add("show");
    clearTimeout(el._t);
    el._t = setTimeout(()=> el.classList.remove("show"), 2300);
  };

  const doneCount = (st) => Object.values(st.daysDone).filter(Boolean).length;

  // ====== –ö–æ–Ω—Ç–µ–Ω—Ç —É—Ä–æ–∫–æ–≤ (–∑–∞–º–µ–Ω–∏ VIDEO –Ω–∞ —Å–≤–æ–∏) ======
  const lessons = {
    1: {
      title: "Windows-—Å—Ç–∞—Ä—Ç",
      subtitle: "–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª, –æ–∫–Ω–∞, –∑–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º",
      video: "https://www.youtube.com/embed/dQw4w9WgXcQ",
      taskHtml: `
        <ol>
          <li>–ù–∞–∂–º–∏ <b>–ü—É—Å–∫</b> (–≤–Ω–∏–∑—É —Å–ª–µ–≤–∞).</li>
          <li>–û—Ç–∫—Ä–æ–π <b>Paint</b>.</li>
          <li>–ù–∞—Ä–∏—Å—É–π —Å–º–∞–π–ª–∏–∫ üôÇ</li>
          <li>–°–æ—Ö—Ä–∞–Ω–∏ –∫–∞–∫ <b>smile</b> –≤ <b>–î–æ–∫—É–º–µ–Ω—Ç—ã</b>.</li>
        </ol>
      `,
      quiz: [
        {q:"–ì–¥–µ –æ–±—ã—á–Ω–æ –∫–Ω–æ–ø–∫–∞ ¬´–ü—É—Å–∫¬ª?", a:["–°–≤–µ—Ä—Ö—É —Å–ø—Ä–∞–≤–∞","–°–Ω–∏–∑—É —Å–ª–µ–≤–∞","–ü–æ—Å–µ—Ä–µ–¥–∏–Ω–µ"], c:1},
        {q:"–ß—Ç–æ –¥–µ–ª–∞–µ—Ç ¬´–ö–æ—Ä–∑–∏–Ω–∞¬ª?", a:["–•—Ä–∞–Ω–∏—Ç —É–¥–∞–ª—ë–Ω–Ω–æ–µ","–û—Ç–∫—Ä—ã–≤–∞–µ—Ç –∏–≥—Ä—ã","–ú–µ–Ω—è–µ—Ç —è–∑—ã–∫"], c:0},
        {q:"–ß—Ç–æ —Ç–∞–∫–æ–µ —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª?", a:["–°—Ç–æ–ª –≤ –∫–æ–º–Ω–∞—Ç–µ","–≠–∫—Ä–∞–Ω —Å–æ –∑–Ω–∞—á–∫–∞–º–∏","–ü–∞—Ä–æ–ª—å"], c:1},
        {q:"–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è‚Ä¶", a:["–ü–∞–Ω–∏–∫—É–π","–ü–æ–≤—Ç–æ—Ä–∏ —à–∞–≥–∏ –∏ —Å–ø—Ä–æ—Å–∏ –≤–∑—Ä–æ—Å–ª–æ–≥–æ","–õ–æ–º–∞–π"], c:1},
        {q:"–ö–∞–∫ –≤—ã–∫–ª—é—á–∞—Ç—å –ü–ö –ø—Ä–∞–≤–∏–ª—å–Ω–æ?", a:["–í—ã–¥—ë—Ä–≥–∏–≤–∞—Ç—å –≤–∏–ª–∫—É","–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã","–°—Ç—É–∫–Ω—É—Ç—å"], c:1},
      ]
    },
    2: {
      title: "–§–∞–π–ª—ã –∏ –ø–∞–ø–∫–∏",
      subtitle: "–°–æ–∑–¥–∞—Ç—å, –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å, –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å",
      video: "https://www.youtube.com/embed/dQw4w9WgXcQ",
      taskHtml: `
        <ol>
          <li>–°–æ–∑–¥–∞–π –ø–∞–ø–∫—É <b>–ú–æ–π –∫—É—Ä—Å</b> –≤ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ö.</li>
          <li>–í–Ω—É—Ç—Ä–∏ —Å–¥–µ–ª–∞–π –ø–∞–ø–∫—É <b>–ö–∞—Ä—Ç–∏–Ω–∫–∏</b>.</li>
          <li>–ü–µ—Ä–µ–º–µ—Å—Ç–∏ —Ç—É–¥–∞ —Å–≤–æ–π <b>smile</b>.</li>
          <li>–ü–µ—Ä–µ–∏–º–µ–Ω—É–π —Ñ–∞–π–ª –≤ <b>smile_1</b>.</li>
        </ol>
      `,
      quiz: [
        {q:"–ü–∞–ø–∫–∞ –Ω—É–∂–Ω–∞ —á—Ç–æ–±—ã‚Ä¶", a:["–°–ª—É—à–∞—Ç—å –º—É–∑—ã–∫—É","–•—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª—ã –ø–æ –ø–æ—Ä—è–¥–∫—É","–õ–æ–º–∞—Ç—å –ü–ö"], c:1},
        {q:"–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ ‚Äî —ç—Ç–æ‚Ä¶", a:["–£–¥–∞–ª–µ–Ω–∏–µ","–°–æ–∑–¥–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–π –∫–æ–ø–∏–∏","–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ"], c:1},
        {q:"–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ ‚Äî —ç—Ç–æ‚Ä¶", a:["–ü–µ—Ä–µ–Ω–æ—Å –≤ –¥—Ä—É–≥–æ–µ –º–µ—Å—Ç–æ","–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞","–°–æ–Ω –∫–æ–º–ø—å—é—Ç–µ—Ä–∞"], c:0},
        {q:"–£–¥–∞–ª—ë–Ω–Ω–æ–µ –ø–æ–ø–∞–¥–∞–µ—Ç‚Ä¶", a:["–í –ö–æ—Ä–∑–∏–Ω—É","–ù–∞ –ú–∞—Ä—Å","–í –º–æ–Ω–∏—Ç–æ—Ä"], c:0},
        {q:"–õ—É—á—à–µ–µ –∏–º—è —Ñ–∞–π–ª–∞‚Ä¶", a:["aaa123","–ø–æ–Ω—è—Ç–Ω–æ–µ: foto_1","–±–µ–∑ —Å–ª–æ–≤"], c:1},
      ]
    },
    3: {
      title: "–ë—Ä–∞—É–∑–µ—Ä + –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å",
      subtitle: "–ü–æ–∏—Å–∫, –≤–∫–ª–∞–¥–∫–∏, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø—Ä–∞–≤–∏–ª–∞",
      video: "https://www.youtube.com/embed/dQw4w9WgXcQ",
      taskHtml: `
        <ol>
          <li>–û—Ç–∫—Ä–æ–π –±—Ä–∞—É–∑–µ—Ä (Chrome/Edge).</li>
          <li>–ù–∞–π–¥–∏ —á–µ—Ä–µ–∑ –ø–æ–∏—Å–∫ –∫–∞—Ä—Ç–∏–Ω–∫—É ¬´–∫–æ—Ç –≤ –æ—á–∫–∞—Ö¬ª.</li>
          <li>–û—Ç–∫—Ä–æ–π 2 –≤–∫–ª–∞–¥–∫–∏ –∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Å—å –º–µ–∂–¥—É –Ω–∏–º–∏.</li>
          <li>–ù–∞–ø–∏—à–∏ 3 –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞.</li>
        </ol>
      `,
      quiz: [
        {q:"–ö–æ–º—É –Ω–µ–ª—å–∑—è –≥–æ–≤–æ—Ä–∏—Ç—å –ø–∞—Ä–æ–ª—å?", a:["–†–æ–¥–∏—Ç–µ–ª—è–º","–ù–µ–∑–Ω–∞–∫–æ–º—Ü–∞–º","–°–µ–±–µ"], c:1},
        {q:"–ê–¥—Ä–µ—Å —Å–∞–π—Ç–∞ –æ–±—ã—á–Ω–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å‚Ä¶", a:["http","pizza","game"], c:0},
        {q:"–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ ‚Äî —ç—Ç–æ‚Ä¶", a:["–°–º–µ—à–Ω–∞—è","–° –∫—É—á–µ–π —Å—Ç—Ä–∞–Ω–Ω—ã—Ö –±—É–∫–≤","–õ—é–±–∞—è"], c:1},
        {q:"–ï—Å–ª–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ —Å—Ç—Ä–∞—à–Ω–æ/–Ω–µ–ø–æ–Ω—è—Ç–Ω–æ‚Ä¶", a:["–ü—Ä–æ–¥–æ–ª–∂–∞–π –æ–¥–∏–Ω","–°–∫–∞–∂–∏ –≤–∑—Ä–æ—Å–ª–æ–º—É","–°–∫—Ä—ã–≤–∞–π"], c:1},
        {q:"–í–∫–ª–∞–¥–∫–∞ ‚Äî —ç—Ç–æ‚Ä¶", a:["–û–∫–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ","–ö–Ω–æ–ø–∫–∞ –ø–∏—Ç–∞–Ω–∏—è","–ü–∞–ø–∫–∞"], c:0},
      ]
    },
    4: {
      title: "–ò–ò –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏",
      subtitle: "–ö–∞–∫ –ò–ò ¬´—É—á–∏—Ç—Å—è¬ª, –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø—Ä–æ–±—É–µ–º",
      video: "https://www.youtube.com/embed/dQw4w9WgXcQ",
      taskHtml: `
        <ol>
          <li>–ù–∞–ø–∏—à–∏ 3 –ø—Ä–∏–º–µ—Ä–∞, –≥–¥–µ —Ç—ã –≤—Å—Ç—Ä–µ—á–∞–ª –ò–ò (–≤ –∂–∏–∑–Ω–∏/–∏–≥—Ä–∞—Ö).</li>
          <li>–°—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π 2 –≤–µ–∂–ª–∏–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–∞ –ò–ò (–∫–∞–∫ –ø–æ–º–æ—â–Ω–∏–∫—É).</li>
          <li>–ó–∞–ø–æ–º–Ω–∏ –ø—Ä–∞–≤–∏–ª–æ: –ò–ò –º–æ–∂–µ—Ç –æ—à–∏–±–∞—Ç—å—Å—è ‚Äî –ø—Ä–æ–≤–µ—Ä—è–π.</li>
        </ol>
      `,
      quiz: [
        {q:"–ò–ò ‚Äî —ç—Ç–æ‚Ä¶", a:["–í–æ–ª—à–µ–±—Å—Ç–≤–æ","–ü—Ä–æ–≥—Ä–∞–º–º–∞, –∫–æ—Ç–æ—Ä–∞—è —É—á–∏—Ç—Å—è –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö","–ú–æ–Ω–∏—Ç–æ—Ä"], c:1},
        {q:"–ò–ò –≤—Å–µ–≥–¥–∞ –ø—Ä–∞–≤?", a:["–î–∞","–ù–µ—Ç, –º–æ–∂–µ—Ç –æ—à–∏–±–∞—Ç—å—Å—è","–¢–æ–ª—å–∫–æ –Ω–æ—á—å—é"], c:1},
        {q:"–•–æ—Ä–æ—à–∏–π –≤–æ–ø—Ä–æ—Å –ò–ò ‚Äî —ç—Ç–æ‚Ä¶", a:["–û—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–∏–π","–ü–æ–Ω—è—Ç–Ω—ã–π –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π","–° —Ä—É–≥–∞–Ω—å—é"], c:1},
        {q:"–õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ‚Ä¶", a:["–ú–æ–∂–Ω–æ –≤—Å–µ–º","–ù–µ–ª—å–∑—è —Ä–∞–∑–¥–∞–≤–∞—Ç—å","–¢–æ–ª—å–∫–æ –≤ –∏–≥—Ä–∞—Ö"], c:1},
        {q:"–ò–ò –º–æ–∂–µ—Ç –ø–æ–º–æ–≥–∞—Ç—å‚Ä¶", a:["–í —É—á—ë–±–µ","–í –∏–¥–µ—è—Ö","–ò —Ç–æ –∏ –¥—Ä—É–≥–æ–µ"], c:2},
      ]
    },
    5: {
      title: "–ü–µ—á–∞—Ç—å + –∏—Ç–æ–≥",
      subtitle: "–¢—Ä–µ–Ω–∞–∂—ë—Ä, —Å–∫–æ—Ä–æ—Å—Ç—å, —Ç–æ—á–Ω–æ—Å—Ç—å, –Ω–∞–≥—Ä–∞–¥—ã",
      video: "https://www.youtube.com/embed/dQw4w9WgXcQ",
      taskHtml: `
        <ol>
          <li>–ó–∞–π–¥–∏ –≤ <b>–¢—Ä–µ–Ω–∞–∂—ë—Ä</b> –∏ –ø–æ—Ç—Ä–µ–Ω–∏—Ä—É–π—Å—è 10 –º–∏–Ω—É—Ç.</li>
          <li>–°–¥–µ–ª–∞–π —Å–∫—Ä–∏–Ω —Å–≤–æ–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (WPM –∏ —Ç–æ—á–Ω–æ—Å—Ç—å).</li>
          <li>–ü–æ–≤—Ç–æ—Ä–∏ 5 –ø—Ä–∞–≤–∏–ª –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.</li>
        </ol>
      `,
      quiz: [
        {q:"–ü–µ—á–∞—Ç–∞—Ç—å –ª—É—á—à–µ‚Ä¶", a:["–°–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –∫–ª–∞–≤–∏—à–∏","–°–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω","–ó–∞–∫—Ä—ã—Ç—å –≥–ª–∞–∑–∞"], c:1},
        {q:"–û—à–∏–±—Å—è ‚Äî —á—Ç–æ –¥–µ–ª–∞—Ç—å?", a:["–ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å–ø–æ–∫–æ–π–Ω–æ","–ë—Ä–æ—Å–∏—Ç—å","–£–¥–∞–ª–∏—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç"], c:0},
        {q:"–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ 5‚Äì10 –º

